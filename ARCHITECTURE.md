# 🏗 AI 角色扮演互动平台 - 架构设计

---

## 📂 系统架构

整体架构分为三层：
1. **前端层（static/）**  
   - 使用 HTML + CSS + JS 构建  
   - 聊天界面、角色选择、输入栏  
   - 与后端通过 AJAX / fetch 交互

2. **后端层（Flask, app.py）**  
   - 提供 API 接口  
   - 处理前端请求，调用 OpenAI 接口  
   - 返回 AI 回复和角色数据

3. **数据层（roles.json, .env）**  
   - `roles.json`：角色配置，存储角色名称、人设、初始提示词  
   - `.env`：环境变量，保存 API Key、安全配置  

---

## 📦 模块规格

### 1. 前端模块
- **index.html**  
  主页面，包含聊天框、角色选择、输入框。  
- **style.css**  
  页面样式，支持整体美观布局。  
- **app.js**  
  前端逻辑，包含：
  - 发送消息到后端
  - 渲染用户消息和 AI 回复
  - 动态加载角色
  - 清空会话
  - 新建自定义角色

### 2. 后端模块
- **app.py**  
  - 使用 Flask 构建  
  - 提供 REST API：
    - `POST /chat`：接收用户输入，返回 AI 回复  
    - `GET /roles`：获取角色列表  
    - `POST /roles`：新建角色  
    - `POST /clear`：清空会话  
    - `POST /feedback`：用户反馈（可选）  
  - 集成 OpenAI API  

### 3. 配置模块
- **roles.json**  
  存储预设角色（例如：苏格拉底、福尔摩斯、哈利波特）。  
- **.env**  
  保存 `OPENAI_API_KEY`，避免硬编码。  

---


## 🔮 扩展方向

- 增加 **语音输入**、**TTS 播报**  
- 引入 **聊天记录存储**（SQLite/Redis）  
- 优化 **角色管理系统**（支持分类、标签）  
