<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>AI 角色扮演互动平台</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- 顶部导航 -->
  <header class="site-header">
    <div class="container">
      <h1 class="brand">🎭 AI 角色扮演互动平台</h1>
      <div class="toolbar">
        <label class="lbl">选择角色：</label>
        <select id="role"></select>

        <label class="chk"><input type="checkbox" id="mem" checked> 开启记忆</label>
        <label class="chk"><input type="checkbox" id="tts" checked> 语音播报</label>
        <button id="clearBtn"   class="btn ghost" type="button">🧹 清空会话</button>
      </div>
    </div>
  </header>

  <!-- 中间主体：左右分栏 -->
  <div class="layout container">
    <!-- 左侧：聊天主区 -->
    <section class="main" aria-label="聊天区">
      <!-- ★★★ 关键：聊天消息内层容器，JS 会把消息插到这里 ★★★ -->
      <main id="chat" aria-live="polite">
        <div id="chatBody"></div>
      </main>

      <!-- 底部输入栏 -->
      <footer id="input-bar">
        <button id="mic"  class="btn icon" type="button" title="语音输入">🎤</button>
        <textarea id="box" rows="2" placeholder="说点什么……（Enter 发送 / Shift+Enter 换行）"></textarea>
        <button id="send" class="btn primary" type="button">发送</button>
      </footer>

      <!-- 自动评分/状态 -->
      <div id="eval" class="eval"></div>
    </section>

    <!-- 右侧：新建角色侧栏（即时生效） -->
    <aside class="sidebar" aria-label="新建角色">
      <h3>新建角色</h3>

      <label class="field">
        <span>名称</span>
        <input id="rn" placeholder="例如：三国·诸葛亮" />
      </label>

      <label class="field">
        <span>简介</span>
        <input id="rd" placeholder="一句话描述（可选）" />
      </label>

      <label class="field">
        <span>人格设定（system prompt）</span>
        <textarea id="rsp" rows="8"
          placeholder="示例：你是诸葛亮，语气智勇，以类比和反问启发思考，避免自给答案。"></textarea>
      </label>

      <div class="actions">
        <button id="cancel" class="btn ghost" type="button">取消</button>
        <button id="save"   class="btn primary" type="button">保存</button>
      </div>
      <p class="hint">提示：点击“保存”后，新角色会出现在顶部角色下拉中，立即可用。</p>
    </aside>
  </div>

  <script src="app.js"></script>
</body>
</html>


